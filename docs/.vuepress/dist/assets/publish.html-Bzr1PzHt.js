import{_ as n,c as a,a as p,o as t}from"./app-DGgyJQhj.js";const e={};function l(i,s){return t(),a("div",null,s[0]||(s[0]=[p(`<h1 id="_2、发布到npm中央仓库" tabindex="-1"><a class="header-anchor" href="#_2、发布到npm中央仓库"><span>2、发布到npm中央仓库</span></a></h1><h2 id="_2-1-完善-package-json" tabindex="-1"><a class="header-anchor" href="#_2-1-完善-package-json"><span>2.1.完善 package.json</span></a></h2><ul><li>注意： <ul><li>name: 必须是唯一的名称(在npm在线中央仓库中没有同名的)</li><li>main: 必须指定为打包生成的js文件</li><li>keywords: 指定一些方便别的程序员搜索到当前库的关键字</li></ul></li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;utils&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zhangcheng&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;前端-自定义工具函数库&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;frond&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;utils&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;function&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;axios&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;event-bus&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;pub-sub&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;promise&quot;</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/common-utils.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;build:watch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --watch&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.10.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.2.0&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-2-npm配置" tabindex="-1"><a class="header-anchor" href="#_2-2-npm配置"><span>2.2.npm配置</span></a></h2><ul><li>npm配置的中央仓库不能是淘宝镜像</li><li>发布前必须执行: npm config set registry https://registry.npmjs.org/</li><li>不用发布时: npm config set registry http://registry.npm.taobao.org/</li><li>查看配置: npm config list</li></ul><h2 id="_2-3-注册npm中央仓库账号" tabindex="-1"><a class="header-anchor" href="#_2-3-注册npm中央仓库账号"><span>2.3.注册npm中央仓库账号</span></a></h2><ul><li>注册地址: https://www.npmjs.com/</li><li>关键信息: 用户名/密码/邮箱(需要验证)</li></ul><h2 id="_2-4-添加用户" tabindex="-1"><a class="header-anchor" href="#_2-4-添加用户"><span>2.4.添加用户</span></a></h2><ul><li>执行: npm addUser</li><li>登陆npm仓库</li><li>依次指定用户名/密码/邮箱</li></ul><h2 id="_2-5-发布仓库" tabindex="-1"><a class="header-anchor" href="#_2-5-发布仓库"><span>2.5.发布仓库</span></a></h2><ul><li>执行: npm publish</li><li>发布失败, 原因是库的名称重复了, 修改name为一个唯一值, 再发布</li></ul><h2 id="_2-6-更新代码后再发布" tabindex="-1"><a class="header-anchor" href="#_2-6-更新代码后再发布"><span>2.6.更新代码后再发布</span></a></h2><ul><li>修改项目库的版本号: package.json 中的version 从1.0.0 改为1.0.1, 注意一定要变大</li><li>修改代码后重新打包: npm run build</li><li>执行发布: npm publish</li></ul><h2 id="_2-7-强制删除已发布的库" tabindex="-1"><a class="header-anchor" href="#_2-7-强制删除已发布的库"><span>2.7.强制删除已发布的库</span></a></h2><ul><li>执行: npm unpublish --force</li><li>注意: 必须在72小时内, 否则不能再删除</li></ul>`,16)]))}const c=n(e,[["render",l]]),u=JSON.parse('{"path":"/tools/publish.html","title":"2、发布到npm中央仓库","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1753956235000,"contributors":[{"name":"zhangcheng","username":"zhangcheng","email":"2778162192@qq.com","commits":3,"url":"https://github.com/zhangcheng"}],"changelog":[{"hash":"c137704769dbc645c66e81b69597cb2c82b901c6","time":1753956235000,"email":"2778162192@qq.com","author":"zhangcheng","message":"commit"},{"hash":"8d7eaced583f96a07d61b0adc21a409cd5c5ad52","time":1753956231000,"email":"2778162192@qq.com","author":"zhangcheng","message":"commit"},{"hash":"37d0a3d3e8d6242091d3a06fc98a2a11418c72e8","time":1753945934000,"email":"2778162192@qq.com","author":"zhangcheng","message":"commit"}]},"filePathRelative":"tools/publish.md"}');export{c as comp,u as data};
